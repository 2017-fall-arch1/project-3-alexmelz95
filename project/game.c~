#include <msp430.h>
#include <libTimer.h>
#include <lcdutils.h>
#include <lcddraw.h>
#include <p2switches.h>
#include <shape.h>
#include <abCircle.h>
//#include "sounds.h"

u_int player;

AbRect seven = {abRectGetBounds, abRectCheck, {10,10}};

void
abDrawPos(AbShape *shape, Vec2 *shapeCenter, u_int fg_color, u_int bg_color){
  u_char row, col;
  Region bounds;
  abShapeGetBounds(shape, shapeCenter, &bounds);
  lcd_setArea(bounds.topLeft.axes[0], bounds.topLeft.axes[1],
	      bounds.botRight.axes[0]-1, bounds.botRight.axes[1]-1);
  for(row = bounds.topLeft.axes[1]; row < bounds.botRight.axes[1]; row++){
    for(col = bounds.topLeft.axes[0]; col < bounds.botRight.axes[0]; col++){
      Vec2 pixelPos = {col, row};
      int color = abShapeCheck(shape, shapeCenter, &pixelPos) ?
	fg_color : bg_color;
      lcd_writeColor(color);
    }
  }
}

int main(){
  configureClocks();
  lcd_init();
  shapeInit();
  Vec2 rectPos = screenCenter;

  clearScreen(COLOR_BLACK);
  shapeInit();

  abDrawPos((AbShape*)&seven, &rectPos, COLOR_ORANGE, COLOR_BLACK);
}
